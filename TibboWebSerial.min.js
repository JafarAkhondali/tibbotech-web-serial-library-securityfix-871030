!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("TibboWebSerial",[],e):"object"==typeof exports?exports.TibboWebSerial=e():t.TibboWebSerial=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";var n=r(1),i=n(r(2)),o=n(r(5)),a=n(r(6)),u=n(r(7)),s=0,c=1,f=7,l=8,h=13,d=20,p=30,v={DTR:1,RTS:2,CTS:16,DSR:32,RI:64,DCD:128},y={OFF:[0,0,0,0],CTS_RTS:[8,144,0,0],XON_XOFF:[0,19,400,400]},m={index:4,value:17},g={index:5,value:19},x=38400,w=function(){function t(e){(0,a.default)(this,t),this.usb=e,this.baud=x,this.modemState=null,this.DTR=null,this.RTS=null,this.CTS=null,this.DSR=null,this.RI=null,this.DCD=null,this.modemStateChanged=void 0,this.getFlowControlCallback=void 0,this.flowControlChanged=void 0,this.baudChangeOK=void 0,this.serDataArrival=void 0,this.serDataSent=void 0,this.connectFail=void 0,this.connectOK=void 0,this.disconnectOK=void 0,this.connectionError=void 0}return(0,u.default)(t,[{key:"connect",value:function(){var t=(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.usb.open();case 3:return t.next=5,this.usb.selectConfiguration(1);case 5:return t.next=7,this.usb.claimInterface(0);case 7:return t.next=9,this.enable();case 9:return t.next=11,this.setBaud(this.baud);case 11:this.setTimers(),this.connectOK&&this.connectOK(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),this.connectFail&&this.connectFail();case 18:case"end":return t.stop()}},t,this,[[0,15]])}));return function(){return t.apply(this,arguments)}}()},{key:"enable",value:function(){var t=(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.usb.controlTransferOut({requestType:"vendor",recipient:"device",request:s,index:0,value:1});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setTimers",value:function(){void 0!==this.dataTimer&&clearInterval(this.dataTimer),void 0!==this.modemStateTimer&&clearInterval(this.modemStateTimer),this.dataTimer=setInterval(this.readTimer.bind(this),1),this.modemStateTimer=setInterval(this.getModemState.bind(this,this.usb),1),this.canRead=!0}},{key:"disconnect",value:function(){var t=(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return clearInterval(this.dataTimer),clearInterval(this.modemStateTimer),t.next=4,this.usb.close();case 4:this.disconnectOK&&this.disconnectOK();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"updateModemState",value:function(t){this.modemState=t,this.DTR=(t&v.DTR)>0?1:0,this.RTS=(t&v.RTS)>0?1:0,this.CTS=(t&v.CTS)>0?1:0,this.DSR=(t&v.DSR)>0?1:0,this.RI=(t&v.RI)>0?1:0,this.DCD=(t&v.DCD)>0?1:0}},{key:"setBaud",value:function(){var t=(0,o.default)(i.default.mark(function t(e){var r,n,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.baud=e,r=[0,0,0,0],n=0;n<r.length;n++)o=255&e,r[n]=o,e=(e-o)/256;return t.next=5,this.usb.controlTransferOut({requestType:"vendor",recipient:"device",request:p,index:0,value:0},new Uint8Array(r));case 5:this.baudChangeOK&&this.baudChangeOK(this.baud);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"initializeSpecialCharacters",value:function(){var t=(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.setChar(g.index,g.value),this.setChar(m.index,m.value);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setChar",value:function(){var t=(0,o.default)(i.default.mark(function t(e,r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.usb.controlTransferOut({requestType:"vendor",recipient:"device",request:h,index:0,value:e<<8&65280|r});case 2:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"setMHS",value:function(){var t=(0,o.default)(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.usb.controlTransferOut({requestType:"vendor",recipient:"device",request:f,index:0,value:768|e});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getBaud",value:function(){var t=(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.usb.controlTransferIn({requestType:"vendor",recipient:"device",request:c,index:0,value:0},1);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getModemState",value:function(){var t=(0,o.default)(i.default.mark(function t(){var e;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.usb.controlTransferIn({requestType:"vendor",recipient:"device",request:l,index:0,value:0},1);case 2:(e=(e=t.sent).data.getInt8())!==this.modemState&&(this.updateModemState(e),this.modemStateChanged&&this.modemStateChanged(this.DTR,this.RTS,this.CTS,this.DSR,this.RI,this.DCD));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getFlowControl",value:function(){var t=(0,o.default)(i.default.mark(function t(){var e,r,n,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.usb.controlTransferIn({requestType:"vendor",recipient:"device",request:d,index:0,value:0},16);case 2:for(e=t.sent,r=new Int32Array(e.data.buffer),r=JSON.stringify(Array.from(r)),n=Object.entries(y),o=0;o<n.length;o++)JSON.stringify(n[o][1])===r&&this.getFlowControlCallback&&this.getFlowControlCallback(n[o][0]);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setFlowControl",value:function(){var t=(0,o.default)(i.default.mark(function t(e){var r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=y[e],t.next=3,this.usb.controlTransferOut({requestType:"vendor",recipient:"device",request:19,index:0,value:0},new Int32Array(r));case 3:this.flowControlChanged&&this.flowControlChanged(e);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"write",value:function(){var t=(0,o.default)(i.default.mark(function t(e){var r,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(new Uint8Array,n=new TextEncoder,!((r=n.encode(e)).length>0)){t.next=7;break}return t.next=6,this.usb.transferOut(2,r);case 6:this.serDataSent&&this.serDataSent(e);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"toggleLINE",value:function(){var t=(0,o.default)(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setMHS(e^this.modemState);case 2:console.log("Line toggled");case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"read",value:function(){var t=(0,o.default)(i.default.mark(function t(){var e;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.usb.transferIn(2,64);case 2:return e=t.sent,t.abrupt("return",new Uint8Array(e.data.buffer));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"readTimer",value:function(){var t=(0,o.default)(i.default.mark(function t(){var e,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.canRead||null===this.usb){t.next=13;break}return this.canRead=!1,t.prev=2,t.next=5,this.read();case 5:(e=t.sent)&&void 0!==this.serDataArrival&&(r=new TextDecoder,this.serDataArrival(r.decode(e))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),"NotFoundError"===t.t0.name&&8===t.t0.code&&t.t0.message.indexOf("disconnected")>=0&&(clearInterval(this.dataTimer),clearInterval(this.modemStateTimer),this.connectionError&&this.connectionError());case 12:this.canRead=!0;case 13:case"end":return t.stop()}},t,this,[[2,9]])}));return function(){return t.apply(this,arguments)}}()}]),t}();t.exports={Serial:w,LINE_STATES:v,FLOW_CONTROL:y}},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){t.exports=r(3)},function(t,e,r){var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(4),i)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",c="object"==typeof t,f=e.regeneratorRuntime;if(f)c&&(t.exports=f);else{(f=e.regeneratorRuntime=c?t.exports:{}).wrap=w;var l="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},y={};y[a]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(_([])));g&&g!==n&&i.call(g,a)&&(y=g);var x=k.prototype=T.prototype=Object.create(y);S.prototype=x.constructor=k,k.constructor=S,k[s]=S.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},f.awrap=function(t){return{__await:t}},O(C.prototype),C.prototype[u]=function(){return this},f.AsyncIterator=C,f.async=function(t,e,r,n){var i=new C(w(t,e,r,n));return f.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},O(x),x[s]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},f.values=_,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return u.type="throw",u.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function w(t,e,r,n){var i=e&&e.prototype instanceof T?e:T,o=Object.create(i.prototype),a=new D(n||[]);return o._invoke=function(t,e,r){var n=l;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=R(a,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var s=b(t,e,r);if("normal"===s.type){if(n=r.done?p:h,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=p,r.method="throw",r.arg=s.arg)}}}(t,r,a),o}function b(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function T(){}function S(){}function k(){}function O(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(t){var e;this._invoke=function(r,n){function o(){return new Promise(function(e,o){!function e(r,n,o,a){var u=b(t[r],t,n);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){s.value=t,o(s)},a)}a(u.arg)}(r,n,e,o)})}return e=e?e.then(o,o):o()}}function R(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,R(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=b(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e){function r(t,e,r,n,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function u(t){r(a,i,o,u,s,"next",t)}function s(t){r(a,i,o,u,s,"throw",t)}u(void 0)})}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9UaWJib1dlYlNlcmlhbC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vVGliYm9XZWJTZXJpYWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vVGliYm9XZWJTZXJpYWwvLi9zcmMvU2VyaWFsLmpzIiwid2VicGFjazovL1RpYmJvV2ViU2VyaWFsLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIiwid2VicGFjazovL1RpYmJvV2ViU2VyaWFsLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL1RpYmJvV2ViU2VyaWFsLy4vbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS1tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vVGliYm9XZWJTZXJpYWwvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL1RpYmJvV2ViU2VyaWFsLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9UaWJib1dlYlNlcmlhbC8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL1RpYmJvV2ViU2VyaWFsLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ09OVFJPTF9DT01NQU5EUyIsIkxJTkVfU1RBVEVTIiwiRFRSIiwiUlRTIiwiQ1RTIiwiRFNSIiwiUkkiLCJEQ0QiLCJGTE9XX0NPTlRST0wiLCJPRkYiLCJDVFNfUlRTIiwiWE9OX1hPRkYiLCJTUEVDSUFMX0NIQVJBQ1RFUlMiLCJpbmRleCIsIkRFRkFVTFRfQkFVRCIsIlNlcmlhbCIsImRldmljZSIsIl9jbGFzc0NhbGxDaGVjazIiLCJkZWZhdWx0IiwidXNiIiwiYmF1ZCIsIm1vZGVtU3RhdGUiLCJtb2RlbVN0YXRlQ2hhbmdlZCIsInVuZGVmaW5lZCIsImdldEZsb3dDb250cm9sQ2FsbGJhY2siLCJmbG93Q29udHJvbENoYW5nZWQiLCJiYXVkQ2hhbmdlT0siLCJzZXJEYXRhQXJyaXZhbCIsInNlckRhdGFTZW50IiwiY29ubmVjdEZhaWwiLCJjb25uZWN0T0siLCJkaXNjb25uZWN0T0siLCJjb25uZWN0aW9uRXJyb3IiLCJvcGVuIiwic2VsZWN0Q29uZmlndXJhdGlvbiIsImNsYWltSW50ZXJmYWNlIiwiZW5hYmxlIiwic2V0QmF1ZCIsInNldFRpbWVycyIsImNvbnRyb2xUcmFuc2Zlck91dCIsInJlcXVlc3RUeXBlIiwicmVjaXBpZW50IiwicmVxdWVzdCIsImRhdGFUaW1lciIsImNsZWFySW50ZXJ2YWwiLCJtb2RlbVN0YXRlVGltZXIiLCJzZXRJbnRlcnZhbCIsInJlYWRUaW1lciIsImdldE1vZGVtU3RhdGUiLCJjYW5SZWFkIiwiY2xvc2UiLCJhcnIiLCJsZW5ndGgiLCJieXRlIiwiVWludDhBcnJheSIsInNldENoYXIiLCJTcGVjaWFsQ2hhcmFjdGVySW5kZXgiLCJTcGVjaWFsQ2hhcmFjdGVyVmFsdWUiLCJjb250cm9sVHJhbnNmZXJJbiIsInJlc3VsdCIsImRhdGEiLCJnZXRJbnQ4IiwidXBkYXRlTW9kZW1TdGF0ZSIsIkludDMyQXJyYXkiLCJidWZmZXIiLCJKU09OIiwic3RyaW5naWZ5IiwiQXJyYXkiLCJmcm9tIiwiZW50cmllcyIsImVuYyIsIlRleHRFbmNvZGVyIiwiYSIsImVuY29kZSIsInRyYW5zZmVyT3V0IiwibGluZSIsInNldE1IUyIsImNvbnNvbGUiLCJsb2ciLCJ0cmFuc2ZlckluIiwicmVhZCIsImRlYyIsIlRleHREZWNvZGVyIiwiZGVjb2RlIiwiX2NvbnRleHQxNSIsInQwIiwiY29kZSIsIm1lc3NhZ2UiLCJpbmRleE9mIiwib2JqIiwiZyIsIkZ1bmN0aW9uIiwiaGFkUnVudGltZSIsInJlZ2VuZXJhdG9yUnVudGltZSIsImdldE93blByb3BlcnR5TmFtZXMiLCJvbGRSdW50aW1lIiwiZSIsImdsb2JhbCIsIk9wIiwiaGFzT3duIiwiJFN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwiaW5Nb2R1bGUiLCJydW50aW1lIiwid3JhcCIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkIiwiR2VuU3RhdGVFeGVjdXRpbmciLCJHZW5TdGF0ZUNvbXBsZXRlZCIsIkNvbnRpbnVlU2VudGluZWwiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsInZhbHVlcyIsIkdwIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJHZW5lcmF0b3IiLCJHZW5lcmF0b3JGdW5jdGlvbiIsImNvbnN0cnVjdG9yIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXJnIiwiX19hd2FpdCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsIkFzeW5jSXRlcmF0b3IiLCJhc3luYyIsImlubmVyRm4iLCJvdXRlckZuIiwidHJ5TG9jc0xpc3QiLCJpdGVyIiwibmV4dCIsInRoZW4iLCJkb25lIiwidG9TdHJpbmciLCJrZXlzIiwicHVzaCIsInJldmVyc2UiLCJwb3AiLCJDb250ZXh0IiwicmVzZXQiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsInNlbnQiLCJfc2VudCIsImRlbGVnYXRlIiwibWV0aG9kIiwidHJ5RW50cmllcyIsImZvckVhY2giLCJyZXNldFRyeUVudHJ5IiwiY2hhckF0IiwiaXNOYU4iLCJzbGljZSIsInN0b3AiLCJyb290UmVjb3JkIiwiY29tcGxldGlvbiIsInR5cGUiLCJydmFsIiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJleGNlcHRpb24iLCJjb250ZXh0IiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwicmVjb3JkIiwiZW50cnkiLCJ0cnlMb2MiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJFcnJvciIsImFicnVwdCIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiYWZ0ZXJMb2MiLCJmaW5pc2giLCJjYXRjaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJpdGVyYWJsZSIsInJlc3VsdE5hbWUiLCJuZXh0TG9jIiwicHJvdG9HZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJfaW52b2tlIiwic3RhdGUiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwidHJ5Q2F0Y2giLCJtYWtlSW52b2tlTWV0aG9kIiwiZm4iLCJlcnIiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiaW52b2tlIiwidW53cmFwcGVkIiwicmV0dXJuIiwiVHlwZUVycm9yIiwiaW5mbyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJpdGVyYXRvck1ldGhvZCIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsIl9uZXh0IiwiX3Rocm93IiwiZXJyb3IiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFDQUQsT0FBQSxvQkFBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxlQUFBRCxJQUVBRCxFQUFBLGVBQUFDLElBUkEsQ0FTQyxvQkFBQUssVUFBQUMsS0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVIsUUFHQSxJQUFBQyxFQUFBSyxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVYsUUFBQSxJQVVBLE9BTkFXLEVBQUFILEdBQUFJLEtBQUFYLEVBQUFELFFBQUFDLElBQUFELFFBQUFPLEdBR0FOLEVBQUFTLEdBQUEsRUFHQVQsRUFBQUQsUUEwREEsT0FyREFPLEVBQUFNLEVBQUFGLEVBR0FKLEVBQUFPLEVBQUFSLEVBR0FDLEVBQUFRLEVBQUEsU0FBQWYsRUFBQWdCLEVBQUFDLEdBQ0FWLEVBQUFXLEVBQUFsQixFQUFBZ0IsSUFDQUcsT0FBQUMsZUFBQXBCLEVBQUFnQixFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDVixFQUFBZ0IsRUFBQSxTQUFBdkIs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NkksR0FDQSxJQUNBLElBQUFpRixFQUFBSyxFQUFBbk8sR0FBQTZJLEdBQ0FuSixFQUFBb08sRUFBQXBPLE1BQ0csTUFBQTRPLEdBRUgsWUFEQWIsRUFBQWEsR0FJQVIsRUFBQXRFLEtBQ0FnRSxFQUFBOU4sR0FFQTZOLFFBQUFDLFFBQUE5TixHQUFBNkosS0FBQTZFLEVBQUFDLEdBd0JBcFEsRUFBQUQsUUFwQkEsU0FBQW1QLEdBQ0Esa0JBQ0EsSUFBQS9PLEVBQUFDLEtBQ0FrUSxFQUFBQyxVQUNBLFdBQUFqQixRQUFBLFNBQUFDLEVBQUFDLEdBQ0EsSUFBQVUsRUFBQWhCLEVBQUFzQixNQUFBclEsRUFBQW1RLEdBRUEsU0FBQUgsRUFBQTFPLEdBQ0F3TyxFQUFBQyxFQUFBWCxFQUFBQyxFQUFBVyxFQUFBQyxFQUFBLE9BQUEzTyxHQUdBLFNBQUEyTyxFQUFBakIsR0FDQWMsRUFBQUMsRUFBQVgsRUFBQUMsRUFBQVcsRUFBQUMsRUFBQSxRQUFBakIsR0FHQWdCLE9BQUFwTSxzQkN6QkEvRCxFQUFBRCxRQU5BLFNBQUEwUSxFQUFBQyxHQUNBLEtBQUFELGFBQUFDLEdBQ0EsVUFBQWQsVUFBQSxxRENGQSxTQUFBZSxFQUFBQyxFQUFBQyxHQUNBLFFBQUFyUSxFQUFBLEVBQWlCQSxFQUFBcVEsRUFBQWpMLE9BQWtCcEYsSUFBQSxDQUNuQyxJQUFBc1EsRUFBQUQsRUFBQXJRLEdBQ0FzUSxFQUFBMVAsV0FBQTBQLEVBQUExUCxhQUFBLEVBQ0EwUCxFQUFBQyxjQUFBLEVBQ0EsVUFBQUQsTUFBQUUsVUFBQSxHQUNBOVAsT0FBQUMsZUFBQXlQLEVBQUFFLEVBQUEvTyxJQUFBK08sSUFVQTlRLEVBQUFELFFBTkEsU0FBQTJRLEVBQUFPLEVBQUFDLEdBR0EsT0FGQUQsR0FBQU4sRUFBQUQsRUFBQXRPLFVBQUE2TyxHQUNBQyxHQUFBUCxFQUFBRCxFQUFBUSxHQUNBUiIsImZpbGUiOiJUaWJib1dlYlNlcmlhbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIlRpYmJvV2ViU2VyaWFsXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlRpYmJvV2ViU2VyaWFsXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlRpYmJvV2ViU2VyaWFsXCJdID0gZmFjdG9yeSgpO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNvbnN0IENPTlRST0xfQ09NTUFORFMgPSB7XHJcbiAgICBJRkNfRU5BQkxFOiAweDAwLFxyXG4gICAgU0VUX0JBVURESVY6IDB4MDEsXHJcbiAgICBHRVRfQkFVRERJVjogMHgwMixcclxuICAgIFNFVF9MSU5FX0NUTDogMHgwMyxcclxuICAgIEdFVF9MSU5FX0NUTDogMHgwNCxcclxuICAgIFNFVF9CUkVBSzogMHgwNSxcclxuICAgIElNTV9DSEFSOiAweDA2LFxyXG4gICAgU0VUX01IUzogMHgwNyxcclxuICAgIEdFVF9NRE1TVFM6IDB4MDgsXHJcbiAgICBTRVRfWE9OOiAweDA5LFxyXG4gICAgU0VUX1hPRkY6IDB4MEEsXHJcbiAgICBTRVRfRVZFTlRNQVNLOiAweDBCLFxyXG4gICAgR0VUX0VWRU5UTUFTSzogMHgwQyxcclxuICAgIEdFVF9FVkVOVFNUQVRFOiAweDE2LFxyXG4gICAgU0VUX0NIQVI6IDB4MEQsXHJcbiAgICBHRVRfQ0hBUlM6IDB4MEUsXHJcbiAgICBHRVRfUFJPUFM6IDB4MEYsXHJcbiAgICBHRVRfQ09NTV9TVEFUVVM6IDB4MTAsXHJcbiAgICBSRVNFVDogMHgxMSxcclxuICAgIFBVUkdFOiAweDEyLFxyXG4gICAgU0VUX0ZMT1c6IDB4MTMsXHJcbiAgICBHRVRfRkxPVzogMHgxNCxcclxuICAgIEVNQkVEX0VWRU5UUzogMHgxNSxcclxuICAgIEdFVF9CQVVEUkFURTogMHgxRCxcclxuICAgIFNFVF9CQVVEUkFURTogMHgxRSxcclxuICAgIFNFVF9DSEFSUzogMHgxOSxcclxuICAgIFZFTkRPUl9TUEVDSUZJQzogMHhGRlxyXG59O1xyXG5cclxuY29uc3QgTElORV9TVEFURVMgPSB7XHJcbiAgICBEVFI6IDEsXHJcbiAgICBSVFM6IDIsXHJcbiAgICBDVFM6IDE2LFxyXG4gICAgRFNSOiAzMixcclxuICAgIFJJOiA2NCxcclxuICAgIERDRDogMTI4XHJcbn07XHJcblxyXG5jb25zdCBGTE9XX0NPTlRST0wgPSB7XHJcbiAgICBPRkY6IFswLCAwLCAwLCAwXSxcclxuICAgIENUU19SVFM6IFs4LCAxNDQsIDAsIDBdLFxyXG4gICAgWE9OX1hPRkY6IFswLCAxOSwgNDAwLCA0MDBdXHJcbn07XHJcblxyXG5jb25zdCBTUEVDSUFMX0NIQVJBQ1RFUlMgPSB7XHJcbiAgICBFT0ZDSEFSOiB7IGluZGV4OiAwLCB2YWx1ZTogMCB9LFxyXG4gICAgRVJST1JDSEFSOiB7IGluZGV4OiAxLCB2YWx1ZTogMCB9LFxyXG4gICAgQlJFQUtDSEFSOiB7IGluZGV4OiAyLCB2YWx1ZTogMCB9LFxyXG4gICAgRVZFTlRDSEFSOiB7IGluZGV4OiAzLCB2YWx1ZTogMCB9LFxyXG4gICAgWE9OQ0hBUjogeyBpbmRleDogNCwgdmFsdWU6IDE3IH0sXHJcbiAgICBYT0ZGQ0hBUjogeyBpbmRleDogNSwgdmFsdWU6IDE5IH1cclxufTtcclxuXHJcbmNvbnN0IERFRkFVTFRfQkFVRCA9IDM4NDAwO1xyXG5cclxuY2xhc3MgU2VyaWFsIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xyXG4gICAgICAgIHRoaXMudXNiID0gZGV2aWNlO1xyXG4gICAgICAgIHRoaXMuYmF1ZCA9IERFRkFVTFRfQkFVRDtcclxuICAgICAgICB0aGlzLm1vZGVtU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuRFRSID0gbnVsbDtcclxuICAgICAgICB0aGlzLlJUUyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5DVFMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuRFNSID0gbnVsbDtcclxuICAgICAgICB0aGlzLlJJID0gbnVsbDtcclxuICAgICAgICB0aGlzLkRDRCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMubW9kZW1TdGF0ZUNoYW5nZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5nZXRGbG93Q29udHJvbENhbGxiYWNrID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuZmxvd0NvbnRyb2xDaGFuZ2VkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuYmF1ZENoYW5nZU9LID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuc2VyRGF0YUFycml2YWwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5zZXJEYXRhU2VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLmNvbm5lY3RGYWlsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdE9LID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuZGlzY29ubmVjdE9LID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkVycm9yID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNvbm5lY3QoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy51c2Iub3BlbigpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVzYi5zZWxlY3RDb25maWd1cmF0aW9uKDEpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVzYi5jbGFpbUludGVyZmFjZSgwKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5lbmFibGUoKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRCYXVkKHRoaXMuYmF1ZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VGltZXJzKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3RPSykgdGhpcy5jb25uZWN0T0soKTtcclxuICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0RmFpbCkgdGhpcy5jb25uZWN0RmFpbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBlbmFibGUoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy51c2IuY29udHJvbFRyYW5zZmVyT3V0KHtcclxuICAgICAgICAgICAgcmVxdWVzdFR5cGU6ICd2ZW5kb3InLFxyXG4gICAgICAgICAgICByZWNpcGllbnQ6ICdkZXZpY2UnLFxyXG4gICAgICAgICAgICByZXF1ZXN0OiBDT05UUk9MX0NPTU1BTkRTLklGQ19FTkFCTEUsXHJcbiAgICAgICAgICAgIGluZGV4OiAweDAwLFxyXG4gICAgICAgICAgICB2YWx1ZTogMHgwMVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRpbWVycygpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhVGltZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZGF0YVRpbWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZW1TdGF0ZVRpbWVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vZGVtU3RhdGVUaW1lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGF0YVRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5yZWFkVGltZXIuYmluZCh0aGlzKSwgMSk7XHJcbiAgICAgICAgdGhpcy5tb2RlbVN0YXRlVGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmdldE1vZGVtU3RhdGUuYmluZCh0aGlzLCB0aGlzLnVzYiksIDEpO1xyXG4gICAgICAgIHRoaXMuY2FuUmVhZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGlzY29ubmVjdCgpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZGF0YVRpbWVyKTtcclxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMubW9kZW1TdGF0ZVRpbWVyKTtcclxuICAgICAgICBhd2FpdCB0aGlzLnVzYi5jbG9zZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3RPSykgdGhpcy5kaXNjb25uZWN0T0soKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVNb2RlbVN0YXRlKG1vZGVtU3RhdGUpIHtcclxuICAgICAgICB0aGlzLm1vZGVtU3RhdGUgPSBtb2RlbVN0YXRlO1xyXG4gICAgICAgIHRoaXMuRFRSID0gKG1vZGVtU3RhdGUgJiBMSU5FX1NUQVRFUy5EVFIpID4gMCA/IDEgOiAwO1xyXG4gICAgICAgIHRoaXMuUlRTID0gKG1vZGVtU3RhdGUgJiBMSU5FX1NUQVRFUy5SVFMpID4gMCA/IDEgOiAwO1xyXG4gICAgICAgIHRoaXMuQ1RTID0gKG1vZGVtU3RhdGUgJiBMSU5FX1NUQVRFUy5DVFMpID4gMCA/IDEgOiAwO1xyXG4gICAgICAgIHRoaXMuRFNSID0gKG1vZGVtU3RhdGUgJiBMSU5FX1NUQVRFUy5EU1IpID4gMCA/IDEgOiAwO1xyXG4gICAgICAgIHRoaXMuUkkgPSAobW9kZW1TdGF0ZSAmIExJTkVfU1RBVEVTLlJJKSA+IDAgPyAxIDogMDtcclxuICAgICAgICB0aGlzLkRDRCA9IChtb2RlbVN0YXRlICYgTElORV9TVEFURVMuRENEKSA+IDAgPyAxIDogMDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZXRCYXVkKGJhdWQpIHtcclxuICAgICAgICB0aGlzLmJhdWQgPSBiYXVkO1xyXG4gICAgICAgIGxldCBhcnIgPSBbMCwgMCwgMCwgMF07XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBieXRlID0gYmF1ZCAmIDB4ZmY7XHJcblxyXG4gICAgICAgICAgICBhcnJbaV0gPSBieXRlO1xyXG4gICAgICAgICAgICBiYXVkID0gKGJhdWQgLSBieXRlKSAvIDI1NjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgdGhpcy51c2IuY29udHJvbFRyYW5zZmVyT3V0KHtcclxuICAgICAgICAgICAgcmVxdWVzdFR5cGU6ICd2ZW5kb3InLFxyXG4gICAgICAgICAgICByZWNpcGllbnQ6ICdkZXZpY2UnLFxyXG4gICAgICAgICAgICByZXF1ZXN0OiBDT05UUk9MX0NPTU1BTkRTLlNFVF9CQVVEUkFURSxcclxuICAgICAgICAgICAgaW5kZXg6IDB4MDAsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSwgbmV3IFVpbnQ4QXJyYXkoYXJyKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuYmF1ZENoYW5nZU9LKSB0aGlzLmJhdWRDaGFuZ2VPSyh0aGlzLmJhdWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGluaXRpYWxpemVTcGVjaWFsQ2hhcmFjdGVycygpIHtcclxuICAgICAgICB0aGlzLnNldENoYXIoU1BFQ0lBTF9DSEFSQUNURVJTLlhPRkZDSEFSLmluZGV4LCBTUEVDSUFMX0NIQVJBQ1RFUlMuWE9GRkNIQVIudmFsdWUpO1xyXG4gICAgICAgIHRoaXMuc2V0Q2hhcihTUEVDSUFMX0NIQVJBQ1RFUlMuWE9OQ0hBUi5pbmRleCwgU1BFQ0lBTF9DSEFSQUNURVJTLlhPTkNIQVIudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNldENoYXIoU3BlY2lhbENoYXJhY3RlckluZGV4LCBTcGVjaWFsQ2hhcmFjdGVyVmFsdWUpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnVzYi5jb250cm9sVHJhbnNmZXJPdXQoe1xyXG4gICAgICAgICAgICByZXF1ZXN0VHlwZTogJ3ZlbmRvcicsXHJcbiAgICAgICAgICAgIHJlY2lwaWVudDogJ2RldmljZScsXHJcbiAgICAgICAgICAgIHJlcXVlc3Q6IENPTlRST0xfQ09NTUFORFMuU0VUX0NIQVIsXHJcbiAgICAgICAgICAgIGluZGV4OiAweDAwLFxyXG4gICAgICAgICAgICB2YWx1ZTogKChTcGVjaWFsQ2hhcmFjdGVySW5kZXggPDwgOCkgJiAweEZGMDApIHwgU3BlY2lhbENoYXJhY3RlclZhbHVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2V0TUhTKHZhbHVlKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy51c2IuY29udHJvbFRyYW5zZmVyT3V0KHtcclxuICAgICAgICAgICAgcmVxdWVzdFR5cGU6ICd2ZW5kb3InLFxyXG4gICAgICAgICAgICByZWNpcGllbnQ6ICdkZXZpY2UnLFxyXG4gICAgICAgICAgICByZXF1ZXN0OiBDT05UUk9MX0NPTU1BTkRTLlNFVF9NSFMsXHJcbiAgICAgICAgICAgIGluZGV4OiAweDAwLFxyXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUgfCAweDIwMCB8IDB4MTAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0QmF1ZCgpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnVzYi5jb250cm9sVHJhbnNmZXJJbih7XHJcbiAgICAgICAgICAgIHJlcXVlc3RUeXBlOiAndmVuZG9yJyxcclxuICAgICAgICAgICAgcmVjaXBpZW50OiAnZGV2aWNlJyxcclxuICAgICAgICAgICAgcmVxdWVzdDogQ09OVFJPTF9DT01NQU5EUy5TRVRfQkFVRERJVixcclxuICAgICAgICAgICAgaW5kZXg6IDB4MDAsXHJcbiAgICAgICAgICAgIHZhbHVlOiAweDBcclxuICAgICAgICB9LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRNb2RlbVN0YXRlKCkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLnVzYi5jb250cm9sVHJhbnNmZXJJbih7XHJcbiAgICAgICAgICAgIHJlcXVlc3RUeXBlOiAndmVuZG9yJyxcclxuICAgICAgICAgICAgcmVjaXBpZW50OiAnZGV2aWNlJyxcclxuICAgICAgICAgICAgcmVxdWVzdDogQ09OVFJPTF9DT01NQU5EUy5HRVRfTURNU1RTLFxyXG4gICAgICAgICAgICBpbmRleDogMHgwMCxcclxuICAgICAgICAgICAgdmFsdWU6IDB4MFxyXG4gICAgICAgIH0sIDEpO1xyXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kYXRhLmdldEludDgoKTtcclxuICAgICAgICBpZiAocmVzdWx0ICE9PSB0aGlzLm1vZGVtU3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVNb2RlbVN0YXRlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVtU3RhdGVDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVtU3RhdGVDaGFuZ2VkKHRoaXMuRFRSLCB0aGlzLlJUUywgdGhpcy5DVFMsIHRoaXMuRFNSLCB0aGlzLlJJLCB0aGlzLkRDRCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0Rmxvd0NvbnRyb2woKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMudXNiLmNvbnRyb2xUcmFuc2ZlckluKHtcclxuICAgICAgICAgICAgcmVxdWVzdFR5cGU6ICd2ZW5kb3InLFxyXG4gICAgICAgICAgICByZWNpcGllbnQ6ICdkZXZpY2UnLFxyXG4gICAgICAgICAgICByZXF1ZXN0OiBDT05UUk9MX0NPTU1BTkRTLkdFVF9GTE9XLFxyXG4gICAgICAgICAgICBpbmRleDogMHgwMCxcclxuICAgICAgICAgICAgdmFsdWU6IDB4MFxyXG4gICAgICAgIH0sIDE2KTtcclxuICAgICAgICB2YXIgYXJyID0gbmV3IEludDMyQXJyYXkocmVzdWx0LmRhdGEuYnVmZmVyKTtcclxuICAgICAgICBhcnIgPSBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGFycikpO1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhGTE9XX0NPTlRST0wpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoZW50cmllc1tpXVsxXSkgPT09IGFycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Rmxvd0NvbnRyb2xDYWxsYmFjaykgdGhpcy5nZXRGbG93Q29udHJvbENhbGxiYWNrKGVudHJpZXNbaV1bMF0pO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZW50cmllc1tpXVswXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZXRGbG93Q29udHJvbCh2YWx1ZSkge1xyXG4gICAgICAgIGxldCBhcnIgPSBGTE9XX0NPTlRST0xbdmFsdWVdO1xyXG4gICAgICAgIGF3YWl0IHRoaXMudXNiLmNvbnRyb2xUcmFuc2Zlck91dCh7XHJcbiAgICAgICAgICAgIHJlcXVlc3RUeXBlOiAndmVuZG9yJyxcclxuICAgICAgICAgICAgcmVjaXBpZW50OiAnZGV2aWNlJyxcclxuICAgICAgICAgICAgcmVxdWVzdDogMHgxMyxcclxuICAgICAgICAgICAgaW5kZXg6IDB4MDAsXHJcbiAgICAgICAgICAgIHZhbHVlOiAweDBcclxuICAgICAgICB9LCBuZXcgSW50MzJBcnJheShhcnIpKTtcclxuICAgICAgICBpZiAodGhpcy5mbG93Q29udHJvbENoYW5nZWQpIHRoaXMuZmxvd0NvbnRyb2xDaGFuZ2VkKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB3cml0ZShkYXRhKSB7XHJcbiAgICAgICAgdmFyIGEgPSBuZXcgVWludDhBcnJheSgpO1xyXG4gICAgICAgIHZhciBlbmMgPSBuZXcgVGV4dEVuY29kZXIoKTtcclxuICAgICAgICBhID0gZW5jLmVuY29kZShkYXRhKTtcclxuICAgICAgICBpZiAoYS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXNiLnRyYW5zZmVyT3V0KDIsIGEpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXJEYXRhU2VudCkgdGhpcy5zZXJEYXRhU2VudChkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdG9nZ2xlTElORShsaW5lKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRNSFMobGluZSBeIHRoaXMubW9kZW1TdGF0ZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xpbmUgdG9nZ2xlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlYWQoKSB7XHJcbiAgICAgICAgY29uc3QgciA9IGF3YWl0IHRoaXMudXNiLnRyYW5zZmVySW4oMiwgNjQpO1xyXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShyLmRhdGEuYnVmZmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZWFkVGltZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FuUmVhZCAmJiB0aGlzLnVzYiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhblJlYWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gYXdhaXQgdGhpcy5yZWFkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlckRhdGFBcnJpdmFsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlYyA9IG5ldyBUZXh0RGVjb2RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlckRhdGFBcnJpdmFsKGRlYy5kZWNvZGUoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChleC5uYW1lID09PSAnTm90Rm91bmRFcnJvcicgJiYgZXguY29kZSA9PT0gOCAmJiBleC5tZXNzYWdlLmluZGV4T2YoJ2Rpc2Nvbm5lY3RlZCcpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZGF0YVRpbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMubW9kZW1TdGF0ZVRpbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uRXJyb3IpIHRoaXMuY29ubmVjdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYW5SZWFkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBTZXJpYWwsIExJTkVfU1RBVEVTLCBGTE9XX0NPTlRST0wgfTtcclxuIiwiZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdDsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4vLyBUaGlzIG1ldGhvZCBvZiBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QgbmVlZHMgdG8gYmVcbi8vIGtlcHQgaWRlbnRpY2FsIHRvIHRoZSB3YXkgaXQgaXMgb2J0YWluZWQgaW4gcnVudGltZS5qc1xudmFyIGcgPSAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzIH0pKCkgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4hKGZ1bmN0aW9uKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIHZhciBpbk1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCI7XG4gIHZhciBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZTtcbiAgaWYgKHJ1bnRpbWUpIHtcbiAgICBpZiAoaW5Nb2R1bGUpIHtcbiAgICAgIC8vIElmIHJlZ2VuZXJhdG9yUnVudGltZSBpcyBkZWZpbmVkIGdsb2JhbGx5IGFuZCB3ZSdyZSBpbiBhIG1vZHVsZSxcbiAgICAgIC8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IHJ1bnRpbWU7XG4gICAgfVxuICAgIC8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXNcbiAgICAvLyBhbHJlYWR5IGRlZmluZWQgZ2xvYmFsbHkuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRGVmaW5lIHRoZSBydW50aW1lIGdsb2JhbGx5IChhcyBleHBlY3RlZCBieSBnZW5lcmF0ZWQgY29kZSkgYXMgZWl0aGVyXG4gIC8vIG1vZHVsZS5leHBvcnRzIChpZiB3ZSdyZSBpbiBhIG1vZHVsZSkgb3IgYSBuZXcsIGVtcHR5IG9iamVjdC5cbiAgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWUgPSBpbk1vZHVsZSA/IG1vZHVsZS5leHBvcnRzIDoge307XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgcnVudGltZS53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBydW50aW1lLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgcnVudGltZS5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgICAvLyByZXN1bHQgZm9yIHRoaXMgaXRlcmF0aW9uIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCB0aGUgc2FtZVxuICAgICAgICAgIC8vIHJlYXNvbi4gTm90ZSB0aGF0IHJlamVjdGlvbnMgb2YgeWllbGRlZCBQcm9taXNlcyBhcmUgbm90XG4gICAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAgIC8vIHdoZW4gYW4gYXdhaXRlZCBQcm9taXNlIGlzIHJlamVjdGVkLiBUaGlzIGRpZmZlcmVuY2UgaW5cbiAgICAgICAgICAvLyBiZWhhdmlvciBiZXR3ZWVuIHlpZWxkIGFuZCBhd2FpdCBpcyBpbXBvcnRhbnQsIGJlY2F1c2UgaXRcbiAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgICAvLyByZWplY3Rpb24gKHN3YWxsb3cgaXQgYW5kIGNvbnRpbnVlLCBtYW51YWxseSAudGhyb3cgaXQgYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGdlbmVyYXRvciwgYWJhbmRvbiBpdGVyYXRpb24sIHdoYXRldmVyKS4gV2l0aFxuICAgICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgICAvLyByZWplY3Rpb24gcmVhc29uIG91dHNpZGUgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgc28gdGhlXG4gICAgICAgICAgLy8gb25seSBvcHRpb24gaXMgdG8gdGhyb3cgaXQgZnJvbSB0aGUgYXdhaXQgZXhwcmVzc2lvbiwgYW5kXG4gICAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBydW50aW1lLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4gIC8vIEluIHNsb3BweSBtb2RlLCB1bmJvdW5kIGB0aGlzYCByZWZlcnMgdG8gdGhlIGdsb2JhbCBvYmplY3QsIGZhbGxiYWNrIHRvXG4gIC8vIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGlmIHdlJ3JlIGluIGdsb2JhbCBzdHJpY3QgbW9kZS4gVGhhdCBpcyBzYWRseSBhIGZvcm1cbiAgLy8gb2YgaW5kaXJlY3QgZXZhbCB3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeS5cbiAgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcyB9KSgpIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKVxuKTtcbiIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3luY1RvR2VuZXJhdG9yOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7Il0sInNvdXJjZVJvb3QiOiIifQ==